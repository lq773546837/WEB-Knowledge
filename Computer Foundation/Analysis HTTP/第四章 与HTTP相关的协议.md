# 与HTTP相关的各种协议



#### TCP/IP协议

​	TCP/IP协议实际上是一系列网络通信协议的统称，其中最核心的两个协议是TCP和IP，其他的还有UDP/ICMP/ARP等等，共同构成了一个复杂但有层次的协议栈。

​	协议栈有四层，最上层是“应用层”，最下层是“链接层“”，TCP和IP则在中间：**TCP属于“传输层”，IP属于“网际层”**。

​	**IP协议**是“Internet Protocol”的缩写，主要目的是解决寻址和路由问题，以及如何在两点间传送数据包

​	**TCP协议**是“Transmission Control Protocol”的缩写，意思是**“传输控制协议”**，它位于IP协议之上，基于IP协议提供**可靠的、字节流**形式的通信，是HTTP协议得以 实现的基础。

​	**“可靠”**是指保证数据不丢失，**“字节流”**是保证数据完整



#### DNS

​	**“域名系统”**（Domain Name System） 。**“域名”**（Domain Name）又被称为**“主机名”**（Host）。

​	想要使用TCP/IP协议来通信仍然要使用IP地址，所以需要把域名做一个转换，“映射”到它的真实IP，这就是所谓的**“域名解析”**。



#### URI/URL

​	URI（Uniform Resource Identifer），中文名称是**统一资源标识符**，使用它就能够唯一地标记互联网上资源。

​	URL（Uniform Resource Locator）,**统一资源定位符**，也就是我们俗称的“网址”，它实际上是URI的一个子集。



#### HTTPS

​	HTTPS，它的全称是**“HTTP over SSL/TLS”**，也就是运行在SSL/TLS协议上的HTTP。HTTPS相当于"HTTP+SSL/TLS+TCP/IP"。

​	SSL的全称是**“Secure Socket Layer”,**由网景公司发明，当发展到3.0时被标准化，改名为**TLS**，也就是**"Transport Layer Security"**,但由于历史的原因还是有很多人称之为SSL/TLS，或者直接简称为SSL。



#### 代理

​	代理（Proxy）是HTTP协议中请求方和应答方中间的一个环节，作为**“中转站”**，既可以转发客户端的请求，也可以转发服务器的应答。

​	常见的代理有：

>   		1. 匿名代理：完全“隐匿”了被代理的机器，外界看到的只是代理服务器；
>   		2. 透明代理：顾名思议，它在传输过程中是“透明开放”的，外界既知道代理，也知道客户端；
>   		3. 正向代理：靠近客户端，代表客户端向服务器发送请求；
>   		4. 反向代理：靠近服务器端，代表服务器响应客户端的请求；

​		

​	**CDN**实际上就是一种代理，它代替源站服务器响应客户端的请求，通常扮演着透明代理和反向代理的角色。

​	由于代理在传输过程中插入了一个“中间层”，所以可以在这个环节做很多有意思的事情，比如：

> ​	1.负载均衡：把访问请求均匀分散到多台机器，实现访问集群化；
>
> ​	2.内容缓存：暂存上下行的数据，减轻后端的压力；
>
> ​	3.安全防护：隐匿IP，使用WAF等工具抵御网络攻击，保护被代理的机器；
>
> ​	4.数据处理：提供压缩、加密等额外的功能。



​	HTTP中还有一个特殊的“代理协议”（proxy protocol），它由知名的代理软件HAProxy制订，但并不是RFC标准。



#### 补充：

>  	1. IP协议曾有v1、v2、v3等早期版本，但因为不够完善而没有对外发布，而v5则是仅用于实验室内部研究，也从未公开，所以我们看到的只有V4和v6两个版本。
>  	2. 2011年2月，互联网管理组织ICANN正式宣布IPv4的地址被“用尽”。
>  	3. 如果使用UNIX/Linux操作系统，HTTP可以运行在本机的UNIX Domain Socket 上，它是一种进程间通信机制，但也满足HTTP对下层的“可靠传输”要求，所以就成了“HTTP over UNIX Domain Socket”。